define("common/ui/list/list",["common/ui/popup_base/popup_base","css!common/ui/list/list.css"],function(a){var b;function c(){var a=['<div class="qui-list_content">','<div class="qui-list_innerContent">',b.title?'<p class="qui-list_title">'+b.title+"</p>":"",'<ul class="qui-list',!b.customize?" qui-list_default":b.customize,!b.html&&!b.template?b.listType?" qui-list_"+b.listType:" qui-list_default_li":"",'">'].join("");var c=["</ul>","</div>",'<div class="qui-list_valignFix"></div>',"</div>",'<div class="qui-list_ctrl">','<div class="qui-list_cancel"',b.cancelBtnIpg?' data-bn-ipg="'+b.cancelBtnIpg+'"':"",">取消</div>","</div>"].join("");var d=[];for(var e=0,f=b.data.length;e<f;e++){var g='<li data-quiListKey="'+(b.data[e].key||e)+'" data-quiListIndex="'+e+'"'+(b.data[e].ipg?' data-bn-ipg="'+b.data[e].ipg+'" ':"")+">",h,i="</li>";try{h=b.html?b.data[e].val:b.template?window.qyerUtil.renderTemplate(b.template,b.data[e]):b.data[e].val}catch(j){}d.push([g,h||"",i].join(""))}return[a,d.join(""),c].join("")}function d(){var c=$(a.getContent());c.find(".qui-list_cancel").on(qyerUtil.EVENT.CLICK,function(){if(typeof b.onCancel=="function"){b.onCancel()}a.hide()});c.find(".qui-list").delegate("li",qyerUtil.EVENT.CLICK,function(){if(typeof b.onSelect=="function"){b.onSelect({key:$(this).attr("data-quiListKey"),index:$(this).attr("data-quiListIndex"),data:b.data[$(this).attr("data-quiListIndex")],el:$(this)})}a.hide()})}var e={show:function(e){b=e;a.show({type:1,enableBodyScroll:true,contentHTML:c(),onShow:d,onHide:b.onHide});if(typeof b.onShow=="function"){b.onShow()}},hide:function(){a.hide()}};return e});